/**
 * Copyright 2020-2025 | Fabrice Creuzot (luigifab) <code~luigifab~fr>
 * https://github.com/luigifab/human-theme
 *
 * Forked from
 *  Copyright 2020 | Mike Kazantsev (mk-fg) <mk~fraggod~gmail~com>
 *  https://github.com/mk-fg/clearlooks-phenix-humanity
 *
 * Forked from
 *  Copyright 2011-2014 | Jean-Philippe Fleury
 *  Copyright 2013-2014 | Andrew Shadura
 *  https://github.com/jpfleury/clearlooks-phenix
 *
 * This program is free software, you can redistribute it or modify
 * it under the terms of the GNU General Public License (GPL) as published
 * by the free software foundation, either version 3 of the license, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but without any warranty, without even the implied warranty of
 * merchantability or fitness for a particular purpose. See the
 * GNU General Public License (GPL) for more details.
 */

* {
	background-clip: padding-box;
	-gtk-icon-style: regular;
}

view,
.view,
view text,
.view text,
iconview text,
textview text {
	color: @theme_text;
	background: @theme_base;
}

rubberband,
.rubberband,
.rubberband.background,
XfdesktopIconView.rubberband {
	border-color: alpha(@theme_selected_bg, 0.8);
	background: alpha(@theme_selected_bg, 0.4);
}

.background {
	color: @theme_fg;
	background-color: @theme_bg;
}

link,
.link,
.link > label,
label > link {
	text-decoration: underline;
	color: @theme_link;
}

selection,
image:selected,
iconview:selected,
switch:checked {
	color: @theme_selected_fg;
	background-color: @theme_selected_bg;
}

button:hover image {
	-gtk-icon-filter: brightness(1.2);
}

page-thumbnail,
paper {
	border: 1px solid black;
	background: white;
}

/* --- window (title & border) -- (solid-csd without compositor, csd with compositor, ssd with muffin/mutter) --- */
/* window or dialog / with or without compositor / .titlebutton.icon .titlebutton.appmenu */
/* solid-csd + ssd + csd because headerbar can also be used with window decorator */

.background.dialog {
	padding: 12px 12px 13px;
}

.background.dialog.csd,
.background.dialog.solid-csd,
.background.dialog.ssd {
	padding: 3px;
}

.background.dialog.csd .dialog-vbox,
.background.dialog.solid-csd .dialog-vbox,
.background.dialog.ssd .dialog-vbox {
	padding: 10px 12px 13px;
}

.background.dialog .dialog-action-area {
	padding-top: 13px;
}

.background.dialog .dialog-action-area button {
	margin: 0 1px 0 7px;
	padding: 4px 8px 3px 8px;
}

.background.dialog .dialog-action-area:dir(rtl) button {
	margin: 0 7px 0 1px;
}

.background.csd,
.background.csd headerbar,
.background.ssd,
.background.ssd headerbar {
	border-radius: 7px 7px 0 0;
}

.background.csd,
.background.ssd,
.background.solid-csd {
	padding: 3px;
	border: 1px solid #6F6358; /* @todo metacity */
	border-top: 0;
	/* border-radius: 8px 8px 0 0; */
	background-color: @theme_bg;
	/* BEVEL FOCUSED / 3d beveled frame */
	box-shadow:
		inset 1px 0 shade(@theme_bg, 1.2),   /* left */
		inset -1px 0 shade(@theme_bg, 0.88), /* right */
		inset 0 -1px shade(@theme_bg, 0.88); /* bottom */
}

.background.csd.popup,
.background.ssd.popup {
	/* menu */
	padding: 0;
	border: 0;
	border-radius: 0;
	background-color: transparent;
	box-shadow: none;
}

.background.csd headerbar,
.background.ssd headerbar,
.background.solid-csd headerbar {
	margin: -3px -4px 0;
	padding: 0;
	min-height: 22px;
	/* border-radius: 8px 8px 0 0; */
	color: @theme_selected_fg;
	/* <draw_ops name="bevel"> titlebar outline */
	border: 1px solid shade(@theme_selected_bg, 0.7);
	/* <draw_ops name="bevel"> fancy gradient */
	background: linear-gradient(to bottom,
		shade(@theme_selected_bg, 1.08),
		shade(@theme_selected_bg, 1.02) 50%,
		shade(@theme_selected_bg, 1.0) 50%,
		shade(@theme_selected_bg, 0.94));
}

.background.csd headerbar image,
.background.ssd headerbar image,
.background.solid-csd headerbar image {
	/* -gtk-icon-transform: scale(0.75); */
	-gtk-icon-style: symbolic;
}

.background.csd headerbar entry,
.background.ssd headerbar entry,
.background.solid-csd headerbar entry {
	box-shadow:none; border:0; margin:4px 0; padding:1px 3px 2px;  font-size:85%; /* @todo */
}

.background.csd headerbar label.title,
.background.ssd headerbar label.title,
.background.solid-csd headerbar label.title {
	padding-top: 2px;
	font-weight: bold;
}

.background.csd headerbar button:not(.minimize):not(.maximize):not(.close),
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):hover,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):active,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):focus,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:focus,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):active:focus,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:focus,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close),
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):hover,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):active,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):focus,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):hover:focus,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):active:focus,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:focus,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close),
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):hover,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):active,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):focus,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:focus,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):active:focus,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:focus {
	/* ChatGPT made the list */
	color: @theme_selected_fg;
	border: 1px solid transparent;
	background: transparent;
	box-shadow: none;
	outline: 0;
}

.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):checked,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:checked,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):active:checked,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):focus:checked,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:checked,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:focus:checked,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):active:focus:checked,
.background.csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:focus:checked,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):checked,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):hover:checked,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):active:checked,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):focus:checked,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:checked,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):hover:focus:checked,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):active:focus:checked,
.background.ssd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:focus:checked,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):checked,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:checked,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):active:checked,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):focus:checked,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:checked,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:focus:checked,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):active:focus:checked,
.background.solid-csd headerbar button:not(.minimize):not(.maximize):not(.close):hover:active:focus:checked {
	/* ChatGPT made the list */
	color: @theme_selected_fg;
	border-color: @slider_border;
	background: darker(@theme_selected_bg);
	box-shadow: none;
	outline: 0;
}

.background.csd headerbar button,
.background.csd headerbar button.toggle,
.background.ssd headerbar button,
.background.ssd headerbar button.toggle,
.background.solid-csd headerbar button,
.background.solid-csd headerbar button.toggle {
	margin: 1px 3px;
	padding: 0 3px;
	border-radius: 3px;
}

.background.csd headerbar button label,
.background.ssd headerbar button label,
.background.solid-csd headerbar button label {
	margin: 1px 0 -1px;
	padding: 0;
}

.background.csd headerbar image.app-icon,
.background.ssd headerbar image.app-icon,
.background.solid-csd headerbar image.app-icon {
	margin: 0 6px; /* with gtk4-classic (appearance__appicon_headerbar.patch) */
}

.background.csd headerbar windowcontrols,
.background.ssd headerbar windowcontrols,
.background.solid-csd headerbar windowcontrols {
	margin: 2px 3px;
}

.background.csd headerbar windowcontrols button,
.background.ssd headerbar windowcontrols button,
.background.solid-csd headerbar windowcontrols button {
	margin: 0 2px;
	padding: 0;
	color: shade(@theme_base, 0.95);
	/* <draw_ops name="button_bg"> border outline */
	border: 1px solid shade(@theme_selected_bg, 0.6);
	/* <draw_ops name="button_bg"> fill gradient */
	background: linear-gradient(to bottom,
		shade(@theme_selected_bg, 1.1),
		shade(@theme_selected_bg, 1.02) 50%,
		shade(@theme_selected_bg, 1.0) 50%,
		shade(@theme_selected_bg, 0.92));
	/* <draw_ops name="button_bg" inside highlight, inside shadow, bottom border smooth effect */
	box-shadow:
		inset 0 1px shade(@theme_selected_bg, 1.18),  /* top */
		inset 1px 0 shade(@theme_selected_bg, 1.1),   /* left */
		inset -1px 0 shade(@theme_selected_bg, 1),    /* right */
		inset 0 -1px shade(@theme_selected_bg, 0.92), /* bottom (0.84+0.92) */
		1px 0 shade(@theme_selected_bg, 1.005),       /* right gradient (0.96>1.05) */
		-1px 0 shade(@theme_selected_bg, 1.005),      /* left gradient (0.96>1.05) */
		0 1px shade(@theme_selected_bg, 1.06);        /* bottom */
}

.background.csd headerbar windowcontrols button:hover,
.background.ssd headerbar windowcontrols button:hover,
.background.solid-csd headerbar windowcontrols button:hover {
	/* <draw_ops name="button_bg_prelight"> */
	border: 1px solid shade(@theme_selected_bg, 0.6);
	background: shade(@theme_selected_bg, 1.15);
}

.background.csd headerbar windowcontrols button:active,
.background.ssd headerbar windowcontrols button:active,
.background.solid-csd headerbar windowcontrols button:active {
	/* <draw_ops name="button_bg_pressed"> border outline */
	border: 1px solid shade(@theme_selected_bg, 0.7);
	/* <draw_ops name="button_bg_pressed"> fill gradient */
	background: linear-gradient(to bottom,
		shade(@theme_selected_bg, 0.95),
		shade(@theme_selected_bg, 0.9));
}

/* --- window (title & border) backdrop --- */

.background.csd:backdrop,
.background.ssd:backdrop,
.background.solid-csd:backdrop {
	border-color: shade(@theme_bg, 0.55);
	/* BEVEL UNFOCUSED / 3d beveled frame */
	box-shadow:
		inset 1px 0 shade(@theme_bg, 1.03),  /* left */
		inset -1px 0 shade(@theme_bg, 0.88), /* right */
		inset 0 -1px shade(@theme_bg, 0.88); /* bottom */
}

.background.csd:backdrop headerbar,
.background.ssd:backdrop headerbar,
.background.solid-csd:backdrop headerbar {
	color: mix(@theme_fg, @theme_bg, 0.45);
	/* <draw_ops name="bevel_unfocused"> rectangle */
	border: 1px solid shade(@theme_bg, 0.55);
	/* <draw_ops name="bevel_unfocused"> fancy gradient */
	background: linear-gradient(to bottom,
		shade(@theme_bg, 0.99),
		shade(@theme_bg, 0.95) 50%,
		shade(@theme_bg, 0.93) 50%,
		shade(@theme_bg, 0.89));
}

.background.csd:backdrop headerbar button:not(.minimize):not(.maximize):not(.close),
.background.ssd:backdrop headerbar button:not(.minimize):not(.maximize):not(.close),
.background.solid-csd:backdrop headerbar button:not(.minimize):not(.maximize):not(.close) {
	color: mix(@theme_fg, @theme_bg, 0.45);
}

.background.csd:backdrop headerbar button:not(.minimize):not(.maximize):not(.close):checked,
.background.ssd:backdrop headerbar button:not(.minimize):not(.maximize):not(.close):checked,
.background.solid-csd:backdrop headerbar button:not(.minimize):not(.maximize):not(.close):checked {
	/* same as close button */
	color: mix(@theme_fg, @theme_bg, 0.45);
	border-color: shade(@theme_bg, 0.6);
	background: linear-gradient(to bottom,
		shade(@theme_bg, 1.15),
		shade(@theme_bg, 1.07) 50%,
		shade(@theme_bg, 1.05) 50%,
		shade(@theme_bg, 0.97));
}

.background.csd:backdrop headerbar windowcontrols button,
.background.ssd:backdrop headerbar windowcontrols button,
.background.solid-csd:backdrop headerbar windowcontrols button {
	color: mix(@theme_fg, @theme_bg, 0.45);
	border: 1px solid shade(@theme_bg, 0.6);
	/* <draw_ops name="button_bg_unfocused"> fill gradient */
	background: linear-gradient(to bottom,
		shade(@theme_bg, 1.15),
		shade(@theme_bg, 1.07) 50%,
		shade(@theme_bg, 1.05) 50%,
		shade(@theme_bg, 0.97));
	/* <draw_ops name="button_bg" inside highlight, inside shadow, bottom border smooth effect */
	box-shadow:
		inset 0 1px shade(@theme_bg, 1.2),   /* top */
		inset 1px 0 shade(@theme_bg, 1.1),   /* left */
		inset -1px 0 shade(@theme_bg, 1.05), /* right */
		inset 0 -1px shade(@theme_bg, 0.89), /* bottom (0.89+0.97) */
		1px 0 shade(@theme_bg, 0.94),        /* right gradient (0.92>0.96) */
		-1px 0 shade(@theme_bg, 0.94),       /* left gradient (0.92>0.96) */
		0 1px shade(@theme_bg, 0.96);        /* bottom */
}

.background.csd:backdrop headerbar windowcontrols button:hover,
.background.ssd:backdrop headerbar windowcontrols button:hover,
.background.solid-csd:backdrop headerbar windowcontrols button:hover {
	/* @todo */
}

/* --- window (title & border) maximized --- */

.background.csd.maximized,
.background.ssd.maximized,
.background.solid-csd.maximized {
	padding: 0;
	border: 0;
	border-bottom: 1px solid #463731; /* @todo metacity */
	border-radius: 0;
	box-shadow: none;
}

.background.csd.maximized:backdrop,
.background.ssd.maximized:backdrop,
.background.solid-csd.maximized:backdrop {
	border-bottom-color: shade(@theme_bg, 0.55);
}

.background.csd.maximized headerbar,
.background.ssd.maximized headerbar,
.background.solid-csd.maximized headerbar {
	margin: 0 -3px 0;
	border-radius: 0;
}

/* --- text/image disabled --- */

*:disabled,
.link > label:disabled {
	color: @insensitive_fg;
	text-shadow: 0.5px 1px @insensitive_text_shadow;
}

image:disabled,
button:disabled image,
spinbutton button:disabled image,
box.toolbar button:disabled image,
box.primary-toolbar button:disabled image {
	-gtk-icon-filter: opacity(0.5);
}

button.flat:disabled image,
box.toolbar button:checked:disabled image,
box.primary-toolbar button:checked:disabled image {
	-gtk-icon-filter: none;
}

/* --- tooltip --- */

tooltip,
tooltip.background,
.tooltip,
.tooltip.background {
	padding: 4px 5px;
	color: @theme_tooltip_fg;
	border: 1px solid @theme_tooltip_border;
	background: @theme_tooltip_bg;
}

/* --- spinner --- */

@keyframes spinner {
	to { -gtk-icon-transform: rotate(1turn); }
}

spinner {
	color: @theme_fg;
	-gtk-icon-source: -gtk-icontheme("process-working-symbolic"); /* not good */
}

spinner:checked {
	animation: spinner 1s infinite steps(12);
	opacity: 1;
}

menubar spinner {
	animation: none;
	opacity: 0;
}

/* --- arrow --- */

arrow.top {
	-gtk-icon-source: -gtk-recolor(url("img/go-up-symbolic.svg"));
}

arrow.right {
	-gtk-icon-source: -gtk-recolor(url("img/go-right-symbolic.svg"));
}

dropdown button arrow,
combobox button arrow,
arrow.bottom {
	-gtk-icon-source: -gtk-recolor(url("img/go-down-symbolic.svg"));
}

arrow.left {
	-gtk-icon-source: -gtk-recolor(url("img/go-left-symbolic.svg"));
}

/* --- separator --- */

separator.vertical {
	margin-bottom: 1px;
	border-left: 1px solid @content_separator_dark;
	border-right: 1px solid @content_separator_lite;
}

separator.horizontal {
	border-top: 1px solid @content_separator_dark;
	border-bottom: 1px solid @content_separator_lite;
}

paned.vertical > separator {
	min-height: 5px;
	background: url("img/pane-separator-grip-vert.svg") no-repeat center;
}

paned.horizontal > separator {
	min-width: 6px;
	background: url("img/pane-separator-grip-horz.svg") no-repeat center;
}

/* -- frame -- */

frame {
	border: 1px solid @frame_border;
	border-radius: 2.5px;
	box-shadow:
		inset -1px -1px alpha(@entry_bg, 0.27),
		inset 1px 1px alpha(@frame_border, 0.17);
}

box.tr-pad-large frame, /* transmission preferences */
frame.flat {
	border: 0;
	border-radius: 0;
	box-shadow: none;
}

frame > label {
	padding: 0 5px;
}

frame.border-outset {
	box-shadow:
		inset -1px -1px alpha(@frame_border, 0.17),
		inset 1px 1px alpha(@entry_bg, 0.27);
}

frame.border-groove {
	padding: 0 1px 1px 0;
	border-color: @frame_border_bis;
	box-shadow:
		inset 1px 1px alpha(@entry_bg, 0.27),
		1px 1px alpha(@entry_bg, 0.27);
}

frame.border-ridge {
	margin-top: 1px;
	padding: 1px 0 0 1px;
	border-color: @frame_border_bis;
	box-shadow:
		inset -1px -1px alpha(@entry_bg, 0.27),
		-1px -1px alpha(@entry_bg, 0.27);
}

frame.border-ridge > label {
	margin-top: -1px;
	padding-left: 4px;
}

/* --- status bar --- */

statusbar {
	margin: -1px 0 0;
	border: 0;
	border-top: 1px solid @toolbar_border_bot;
}

statusbar box,
statusbar label {
	margin: 0;
	padding: 0;
	border: 0;
	border-radius: 0;
	box-shadow: none;
}

statusbar > box {
	margin: 0;
	padding: 0 2px 2px;
	border-top: 1px solid @toolbar_border_top;
}

statusbar > label { /* eom 1.24 */
	border-top: 1px solid @toolbar_border_top;
}

statusbar box label {
	padding-bottom: 1px;
}

/* --- switch --- */

switch {
	margin: 1px;
	min-width: 76px;
	min-height: 25px;
	transition: background 0.5s;
}

switch slider {
	margin: -1px;
	padding: 2px 1px 1px;
	border: 1px solid @slider_trough_border;
	border-radius: 2.75px;
	background:
		url("img/pane-separator-grip-vert.svg") no-repeat center,
		radial-gradient(circle,
			@scale_glaze_glow_center,
			@scale_glaze_glow_edge),
		linear-gradient(to bottom,
			@scale_glaze_top,
			@scale_glaze_mida 49%,
			@scale_glaze_midb 49%,
			@scale_glaze_bot);
}

switch slider:hover,
switch slider:active,
switch slider:focus {
	background:
		url("img/pane-separator-grip-vert.svg") no-repeat center,
		radial-gradient(circle,
			@scale_glaze_glow_center,
			@scale_glaze_glow_edge),
		linear-gradient(to bottom,
			@scale_hover_glaze_top,
			@scale_hover_glaze_mida 49%,
			@scale_hover_glaze_midb 49%,
			@scale_hover_glaze_bot);
}

switch slider:active,
switch slider:focus {
	outline: 1px solid @theme_outline;
	outline-offset: -4px;
}

switch:disabled {
	opacity: 0.6;
}

switch slider:disabled {
	border-color: @button_border_disabled;
}

/* --- button --- */

button {
	margin: 1px;
	padding: 4px;
	min-height: 16px;
	color: @theme_fg;
}

button label {
	padding-bottom: 1px;
}

button, switch {
	border: 1px solid @button_border;
	border-radius: 3px;
	box-shadow:
		-1px -1px alpha(@button_border, 0.13),
		 1px  1px alpha(@button_border, 0.13),
		inset 1px 1px alpha(@button_border, 0.148); /* @todo E8E0DA */
}

button:disabled, switch:disabled {
	border-color: @button_border_disabled;
	box-shadow:
		-1px -1px alpha(@button_border_disabled, 0.31),
		 1px  1px alpha(lighter(@theme_bg), 0.418),
		inset  1px  1px alpha(@button_border_disabled, 0.08),
		inset -1px -1px alpha(@button_border_disabled, 0.08);
}

button.flat {
	border-color: transparent;
	background: transparent;
	box-shadow: none;
}

button.flat:disabled {
	border-color: transparent;
	background: transparent;
	opacity: 0.3; /* @todo -> .flat.image */
}

button.link:disabled {
	opacity: 1; /* @todo */
}

button.toggle {
	padding: 4px;
}

button.toggle:active,
button.toggle:checked {
	padding: 5px 3px 3px 5px;
	box-shadow:
		-1px -1px alpha(@button_border_disabled, 0.31),
		 1px  1px alpha(lighter(@theme_bg), 0.418),
		inset  1px  1px alpha(@button_border_disabled, 0.08),
		inset -1px -1px alpha(@button_border_disabled, 0.08);
}

/* --- spinbutton --- */

spinbutton {
	margin: 1px;
}

spinbutton button {
	margin: 0 0 0 -1px;
	padding: 3px 4px;
	border-radius: 0;
}

spinbutton button:dir(rtl) {
	margin: 0 -1px 0 0;
}

spinbutton.vertical text {
	margin: 0;
	padding: 4px 3px 2px 2px;
	border-radius: 0;
}

spinbutton.vertical button.up {
	margin: 0;
	border-bottom: 0;
}

spinbutton.vertical button.down {
	margin: 0;
	border-top: 0;
}

spinbutton.horizontal text {
	margin: 0;
	padding: 3px 3px 4px;
	border-radius: 2.4px 0 0 2.3px;
}

spinbutton.horizontal text:dir(rtl) {
	border-radius: 0 2.4px 2.3px 0;
}

/* --- colorbutton (colorbutton button.color colorswatch) --- */

button.color {
	padding: 5px;
}

button.color colorswatch {
	border: 1px solid @frame_border;
}

button.color colorswatch overlay {
	padding-top: 1px;
}

/* --- fontbutton (fontbutton button.color) --- */

button.font box box label {
	padding: 0 5px;
}

/* --- entry --- */

entry,
spinbutton text {
	margin: 1px;
	padding: 4px 3px 2px;
	color: @theme_text;
	border: 1px solid @entry_border;
	border-radius: 2.4px;
	background: @entry_bg;
	box-shadow:
		-1px -1px alpha(@entry_border, 0.09),
		 1px  1px alpha(lighter(@theme_bg), 0.418),
		inset 1px 1px alpha(@entry_border, 0.162); /* @todo */
}

entry {
	padding: 3px 3px 4px;
}

entry image.left {
	margin: -1px 0 -1px;
}

entry image.right {
	margin: -1px 0 -1px;
}

entry image + text {
	margin-left: 4px;
}

entry image ~ text {
	margin-right: 4px;
}

entry:focus,
spinbutton text:focus {
	border-color: @theme_outline;
}

entry:disabled,
spinbutton text:disabled {
	text-shadow: none;
	border-color: @entry_border_disabled;
	background: @entry_bg_disabled;
	box-shadow:
		-1px -1px alpha(@entry_border, 0.09),
		 1px  1px alpha(lighter(@theme_bg), 0.418),
		inset 1px 1px alpha(@entry_border_disabled, 0.07);
}

entry:disabled text {
	text-shadow: none;
}

entry placeholder {
	color: gray;
}

/* --- combo box --- */

combobox entry {
	padding: 4px 3px 5px;
}

combobox button {
	padding: 3px 4px 5px;
}

combobox entry + button {
	padding: 4px 4px 4px 5px;
}

combobox button:dir(rtl):not(:only-child) {
	padding: 4px 5px 4px 4px;
}

dropdown button arrow,
combobox button arrow {
	min-width: 16px;
	min-height: 16px;
	-gtk-icon-transform: scale(0.6);
}

combobox button cellview {
	margin: 0 -1px -1px;
}

combobox button cellview + arrow {
	margin-left: 3px;
}

dropdown button stack {
	border: 0;
}

/* --- check button --- */

checkbutton {
	margin: 1px;
}

checkbutton label {
	margin: -1px -1px 1px -2px;
	padding: 1px;
	border: 1px solid transparent;
	border-radius: 3px;
}

checkbutton label:dir(rtl) {
	margin: -1px -2px 0 -1px;
}

checkbutton check:dir(rtl), checkbutton radio:dir(rtl) {
	margin: 1px 0 0 5px;
}

checkbutton:hover {
	background: @checkbutton_hover_bg;
}

checkbutton:focus label {
	border-color: @theme_outline;
	background: @checkbutton_focus_bg;
}

checkbutton:hover:focus label {
	/* @todo border-color: @checkbutton_focus_hover_border; */
	background: @checkbutton_focus_hover_bg;
}

/* --- checkbox --- */

check {
	margin: 1px 5px 0 0;
	-gtk-icon-source: url("img/checkbox-unchecked.svg");
}

check:disabled {
	-gtk-icon-source: url("img/checkbox-unchecked-insensitive.svg");
}

check:checked {
	-gtk-icon-source: url("img/checkbox-checked.svg");
}

check:checked:active {
	-gtk-icon-source: url("img/checkbox-checked-active.svg");
}

check:checked:disabled {
	-gtk-icon-source: url("img/checkbox-checked-insensitive.svg");
}

check:indeterminate {
	-gtk-icon-source: url("img/checkbox-mixed.svg");
}

check:indeterminate:active {
	-gtk-icon-source: url("img/checkbox-mixed-active.svg");
}

check:indeterminate:disabled {
	-gtk-icon-source: url("img/checkbox-mixed-insensitive.svg");
}

/* --- radio --- */

radio {
	margin: 1px 5px 0 0;
	-gtk-icon-source: url("img/radio-unchecked.svg");
}

radio:disabled {
	-gtk-icon-source: url("img/radio-unchecked-insensitive.svg");
}

radio:checked {
	-gtk-icon-source: url("img/radio-checked.svg");
}

radio:checked:active {
	-gtk-icon-source: url("img/radio-checked-active.svg");
}

radio:checked:disabled {
	-gtk-icon-source: url("img/radio-checked-insensitive.svg");
}

radio:indeterminate {
	-gtk-icon-source: url("img/radio-mixed.svg");
}

radio:indeterminate:active {
	-gtk-icon-source: url("img/radio-mixed-active.svg");
}

radio:indeterminate:disabled {
	-gtk-icon-source: url("img/radio-mixed-insensitive.svg");
}

/* --- button background --- */

button,
spinbutton button:focus {
	background:
		@theme_bg
		radial-gradient(
			ellipse 90% 50%,
			@button_glaze_glow_center,
			@button_glaze_glow_edge),
		linear-gradient(to bottom,
			@button_glaze_top,
			@button_glaze_mida 49%,
			@button_glaze_midb 49%,
			@button_glaze_bot);
}

button:hover,
spinbutton button:focus:hover {
	border: 1px solid @button_border;
	background:
		radial-gradient(
			ellipse 110% 50%,
			@button_hover_glaze_glow_center,
			@button_hover_glaze_glow_edge),
		linear-gradient(to bottom,
			@button_hover_glaze_top,
			@button_hover_glaze_mida 49%,
			@button_hover_glaze_midb 49%,
			@button_hover_glaze_bot);
}

button:focus {
	border-color: @button_border;
	background:
		@theme_bg
		no-repeat 3px 3px / calc(100% - 6px) calc(100% - 6px)
			linear-gradient(to bottom, @button_focus_fill, @button_focus_fill),
		radial-gradient(
			ellipse 90% 50%,
			@button_glaze_glow_center,
			@button_glaze_glow_edge),
		linear-gradient(to bottom,
			@button_glaze_top,
			@button_glaze_mida 49%,
			@button_glaze_midb 49%,
			@button_glaze_bot);
	outline: 1px solid @theme_outline;
	outline-offset: -4px;
}

button.flat:focus {
	border-color: transparent;
	background:
		no-repeat 3px 3px / calc(100% - 6px) calc(100% - 6px)
			linear-gradient(to bottom, @button_focus_fill, @button_focus_fill);
}

button:focus:hover {
	background:
		@theme_bg
		no-repeat 3px 3px / calc(100% - 6px) calc(100% - 6px)
			linear-gradient(to bottom, @button_focus_fill, @button_focus_fill),
		radial-gradient(
			ellipse 110% 50%,
			@button_hover_glaze_glow_center,
			@button_hover_glaze_glow_edge),
		linear-gradient(to bottom,
			@button_hover_glaze_top,
			@button_hover_glaze_mida 49%,
			@button_hover_glaze_midb 49%,
			@button_hover_glaze_bot);
}

button:disabled {
	background:
		radial-gradient(
			ellipse 90% 50%,
			@button_disabled_glaze_glow_center,
			@button_disabled_glaze_glow_edge),
		linear-gradient(to bottom,
			@button_disabled_glaze_top,
			@button_disabled_glaze_mida 49%,
			@button_disabled_glaze_midb 49%,
			@button_disabled_glaze_bot);
}

button:active,
button:active:hover,
button:checked:focus,
button:checked:active:focus:hover {
	background:
		no-repeat 3px 3px / calc(100% - 6px) calc(100% - 7px)
			linear-gradient(to bottom, @button_focus_fill_active, @button_focus_fill_active),
		radial-gradient(
			ellipse 110% 50%,
			@button_active_glaze_glow_center,
			@button_active_glaze_glow_edge),
		linear-gradient(to right,
			@button_active_glaze_shadow_edge,
			@button_active_glaze_shadow 2px,
			alpha(@button_active_glaze_shadow, 0) 4px,
			@null 4px, @null),
		linear-gradient(to bottom,
			@button_active_glaze_shadow_edge,
			@button_active_glaze_shadow 2px,
			alpha(@button_active_glaze_shadow, 0) 4px,
			@null 4px, @null),
		linear-gradient(to bottom,
			@button_active_glaze_top,
			@button_active_glaze_mida 49%,
			@button_active_glaze_midb 49%,
			@button_active_glaze_bot);
}

button:checked:hover {
	background:
		radial-gradient(
			ellipse 110% 50%,
			@button_hover_glaze_glow_center,
			@button_hover_glaze_glow_edge),
		linear-gradient(to right,
			alpha(@button_active_glaze_shadow_edge, 0.3),
			alpha(@button_active_glaze_shadow, 0.3) 3px,
			alpha(@button_active_glaze_shadow, 0) 5px,
			@null 5px, @null),
		linear-gradient(to bottom,
			alpha(@button_active_glaze_shadow_edge, 0.3),
			alpha(@button_active_glaze_shadow, 0.3) 3px,
			alpha(@button_active_glaze_shadow, 0) 5px,
			@null 5px, @null),
		linear-gradient(to bottom,
			@button_hover_glaze_top,
			@button_hover_glaze_mida 49%,
			@button_hover_glaze_midb 49%,
			@button_hover_glaze_bot);
}

button:checked:hover:focus {
	background:
		no-repeat 3px 3px / calc(100% - 6px) calc(100% - 7px)
			linear-gradient(to bottom, @button_focus_fill_active, @button_focus_fill_active),
		radial-gradient(
			ellipse 110% 50%,
			@button_hover_glaze_glow_center,
			@button_hover_glaze_glow_edge),
		linear-gradient(to right,
			alpha(@button_active_glaze_shadow_edge, 0.3),
			alpha(@button_active_glaze_shadow, 0.3) 3px,
			alpha(@button_active_glaze_shadow, 0) 5px,
			@null 5px, @null),
		linear-gradient(to bottom,
			alpha(@button_active_glaze_shadow_edge, 0.3),
			alpha(@button_active_glaze_shadow, 0.3) 3px,
			alpha(@button_active_glaze_shadow, 0) 5px,
			@null 5px, @null),
		linear-gradient(to bottom,
			@button_hover_glaze_top,
			@button_hover_glaze_mida 49%,
			@button_hover_glaze_midb 49%,
			@button_hover_glaze_bot);
}

button:checked,
button.flat:active,
button.flat:active:hover,
button.toggle:checked:disabled,
box.toolbar button:active,
box.toolbar button:active:hover,
box.toolbar button.toggle:checked:disabled,
box.primary-toolbar button:active,
box.primary-toolbar button:active:hover,
box.primary-toolbar button.toggle:checked:focus,
box.primary-toolbar button.toggle:checked:disabled {
	border: 1px solid @button_border;
	background:
		radial-gradient(
			ellipse 110% 50%,
			@button_active_glaze_glow_center,
			@button_active_glaze_glow_edge),
		linear-gradient(to right,
			@button_active_glaze_shadow_edge,
			@button_active_glaze_shadow 2px,
			alpha(@button_active_glaze_shadow, 0) 4px,
			@null 4px, @null),
		linear-gradient(to bottom,
			@button_active_glaze_shadow_edge,
			@button_active_glaze_shadow 2px,
			alpha(@button_active_glaze_shadow, 0) 4px,
			@null 4px, @null),
		linear-gradient(to bottom,
			@button_active_glaze_top,
			@button_active_glaze_mida 49%,
			@button_active_glaze_midb 49%,
			@button_active_glaze_bot);
}

box.toolbar button.toggle:checked:disabled,
box.primary-toolbar button.toggle:checked:disabled {
	opacity: 0.3;
}

button.flat:focus:hover,
box.toolbar button:focus:hover,
box.primary-toolbar button:focus:hover,
box.primary-toolbar button.toggle:focus:hover {
	background:
		no-repeat 3px 3px / calc(100% - 6px) calc(100% - 6px)
			linear-gradient(to bottom, @button_focus_fill, @button_focus_fill),
		radial-gradient(
			circle farthest-side,
			@button_hover_glaze_glow_center,
			@button_hover_glaze_glow_edge),
		linear-gradient(to bottom,
			@button_hover_glaze_top,
			@button_hover_glaze_mida 49%,
			@button_hover_glaze_midb 49%,
			@button_hover_glaze_bot);
}

button.flat:focus:active,
button.flat:focus:active:hover,
box.toolbar button:focus:active,
box.toolbar button:focus:active:hover,
box.primary-toolbar button:focus:active,
box.primary-toolbar button:focus:active:hover {
	background:
		no-repeat 3px 3px / calc(100% - 6px) calc(100% - 6px)
			linear-gradient(to bottom, @button_focus_fill, @button_focus_fill),
		radial-gradient(
			circle farthest-side,
			@button_active_glaze_glow_center,
			@button_active_glaze_glow_edge),
		linear-gradient(to right,
			@button_active_glaze_shadow_edge,
			@button_active_glaze_shadow 2px,
			alpha(@button_active_glaze_shadow, 0) 4px,
			@null 4px, @null),
		linear-gradient(to bottom,
			@button_active_glaze_shadow_edge,
			@button_active_glaze_shadow 2px,
			alpha(@button_active_glaze_shadow, 0) 4px,
			@null 4px, @null),
		linear-gradient(to bottom,
			@button_active_glaze_top,
			@button_active_glaze_mida 49%,
			@button_active_glaze_midb 49%,
			@button_active_glaze_bot);
}

box.toolbar button:not(.toggle):not(:hover),
box.toolbar button.toggle:not(:checked):not(:hover),
box.primary-toolbar button:not(.toggle):not(:hover),
box.primary-toolbar button.toggle:not(:checked):not(:hover) {
	/* simulate .flat */
	border-color: transparent;
	background: transparent;
	box-shadow: none;
}

box.toolbar image,
box.primary-toolbar image {
	-gtk-icon-size: 24px;
}

box.toolbar,
box.primary-toolbar {
	padding: 1px 2px;
	border-width: 1px 0 1px 0;
	border-style: solid;
	border-top-color: @toolbar_border_top;
	border-bottom-color: @toolbar_border_bot;
	background: linear-gradient(to bottom, @toolbar_grad_top, @toolbar_grad_bot);
}

box.toolbar:dir(rtl),
box.primary-toolbar:dir(rtl) {
	padding: 1px 4px 1px 2px;
}

box.toolbar > separator,
box.primary-toolbar > separator {
	margin: 7px 5px 8px;
	border-left: 1px solid @toolbar_separator_dark;
	border-right: 1px solid @toolbar_separator_lite;
}

/* --- menu bar --- */

menubar {
	margin: 1px 0 0;
	padding: 0 1px;
	border-bottom: 1px solid @menubar_border_bot;
	background: linear-gradient(to bottom, @menubar_grad_top, @menubar_grad_bot);
}

menubar item {
	padding: 3px 7px 2px;
	text-shadow: none; /* libreoffice 6.4.1 */
	color: @theme_fg; /* libreoffice 6.4.1 */
	border: 1px solid transparent;
	border-radius: 2px 2px 0 0;
}

menubar:focus-within item:selected {
	/* it's a feature: the :hover state also apply :focus and :selected states */
	/* the :focus-within to apply item design only after click on it */
	color: @menuitem_hover;
	border-color: @menuitem_hover_border;
	border-bottom-color: @menuitem_hover_border_bottom;
	background:
		radial-gradient(ellipse 110% 50%,
			@menuitem_hover_glaze_glow_center,
			@menuitem_hover_glaze_glow_edge),
		linear-gradient(to bottom,
			@menuitem_hover_glaze_top,
			@menuitem_hover_glaze_mida 50%,
			@menuitem_hover_glaze_midb 50%,
			@menuitem_hover_glaze_bot);
}

menubar:focus-within item:selected:focus,
menubar:focus-within item:selected:focus:hover {
	/* here we are reverting previous design when user :hover the menu item without focusing on another element */
	color: @theme_fg;
	border-color: transparent;
	background: transparent;
}

/* --- popover --- */

popover.background.menu {
	font-size: initial;
	font-family: initial;
}

popover.menu scrolledwindow,
popover.menu viewport {
	border: 0;
}

popover contents {
	padding: 2px;
	border: 1px solid @menu_border;
	background: @menu_bg;
}

popover popover contents {
	margin: 0 2px;
}

popover modelbutton {
	padding: 1px 0 2px;
	border: 1px solid transparent;
}

popover modelbutton:hover {
	/* this is the menuitem hover */
	color: @menuitem_hover;
	border: 1px solid @menuitem_hover_border;
	border-radius: 2px;
	background:
		radial-gradient(ellipse 110% 50%,
			@menuitem_hover_glaze_glow_center,
			@menuitem_hover_glaze_glow_edge),
		linear-gradient(to bottom,
			@menuitem_hover_glaze_top,
			@menuitem_hover_glaze_mida 50%,
			@menuitem_hover_glaze_midb 50%,
			@menuitem_hover_glaze_bot);
}

popover modelbutton > box {
	min-width: 26px;
}

popover modelbutton > label {
	margin: 1px 25px 0 0;
}

popover modelbutton > label:dir(rtl) {
	margin: 1px 0 0 25px;
}

/* --- popover elements --- */

popover modelbutton accelerator {
	margin: 1px 7px 0;
	color: alpha(@theme_fg, 0.601); /* @todo #696764 instead of #696664 */
}

popover modelbutton image:dir(ltr) {
	margin-left: -25px;
}

popover modelbutton image:dir(rtl) {
	margin-right: -27px;
}

popover modelbutton:hover > accelerator {
	color: @theme_selected_fg;
}

popover modelbutton:disabled > accelerator {
	color: alpha(@insensitive_fg, 0.601);
}

popover arrow {
	margin: 0 4px;
}

popover stack separator {
	margin: 4px 4px 3px;
	border-top: 1px solid @menu_separator_dark;
	border-bottom: 1px solid @menu_separator_lite;
}

/* --- popover check & radio elements --- */

popover check,
popover radio {
	margin: 2px 5px 0;
}

popover check,
popover check:disabled {
	-gtk-icon-source: none;
}

popover check:checked,
popover check:checked:active {
	-gtk-icon-source: url("img/menu-checkbox-checked.svg");
}

popover check:checked:hover {
	-gtk-icon-source: url("img/menu-checkbox-checked-hover.svg");
}

popover check:checked:disabled {
	-gtk-icon-source: url("img/menu-checkbox-checked-insensitive.svg");
}

popover check:indeterminate,
popover check:indeterminate:active {
	-gtk-icon-source: url("img/menu-checkbox-mixed.svg");
}

popover check:indeterminate:hover {
	-gtk-icon-source: url("img/menu-checkbox-mixed-hover.svg");
}

popover check:indeterminate:disabled {
	-gtk-icon-source: url("img/menu-checkbox-mixed-insensitive.svg");
}

popover radio,
popover radio:disabled {
	-gtk-icon-source: none;
}

popover radio:checked,
popover radio:checked:active {
	-gtk-icon-source: url("img/menu-radio-checked.svg");
}

popover radio:checked:hover {
	-gtk-icon-source: url("img/menu-radio-checked-hover.svg");
}

popover radio:checked:disabled {
	-gtk-icon-source: url("img/menu-radio-checked-insensitive.svg");
}

popover radio:indeterminate,
popover radio:indeterminate:active {
	-gtk-icon-source: url("img/menu-radio-mixed.svg");
}

popover radio:indeterminate:hover {
	-gtk-icon-source: url("img/menu-radio-mixed-hover.svg");
}

popover radio:indeterminate:disabled {
	-gtk-icon-source: url("img/menu-radio-mixed-insensitive.svg");
}

/* --- scroll bar --- */

scrollbar range {
	border: 1px solid @scroll_border;
	border-radius: 2px;
	background: @scroll_bg;
}

scrollbar.vertical range {
	padding: 1px 2px;
}

scrollbar.horizontal range {
	padding: 2px 1px;
}

scrollbar slider {
	border: 0; /* @todo 1px solid @scroll_slider_border; */
	border-radius: 6px; /* @todo 3px */
}

scrollbar.vertical slider {
	margin: -1px -2px;
	padding: 2px;
	min-width: 12px;
	min-height: 42px;
	background:
		/* border color */
		linear-gradient(to right,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to left,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to top,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to bottom,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		/* bg color */
		radial-gradient(
			ellipse 50% 50%,
			@scroll_glaze_glow_center,
			@scroll_glaze_glow_edge),
		linear-gradient(to right,
			@scroll_glaze_top,
			@scroll_glaze_mida 49%,
			@scroll_glaze_midb 49%,
			@scroll_glaze_bot);
}

scrollbar.vertical slider:hover {
	background:
		/* border color */
		linear-gradient(to right,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to left,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to top,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to bottom,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		/* bg color */
		radial-gradient(
			ellipse 50% 50%,
			@scroll_glaze_glow_center,
			@scroll_glaze_glow_edge),
		linear-gradient(to right,
			@scroll_hover_glaze_top,
			@scroll_hover_glaze_mida 49%,
			@scroll_hover_glaze_midb 49%,
			@scroll_hover_glaze_bot);
}

scrollbar.horizontal slider {
	margin: -2px -1px;
	padding: 2px;
	min-width: 42px;
	min-height: 12px;
	background:
		/* border color */
		linear-gradient(to right,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to left,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to top,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to bottom,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		/* bg color */
		radial-gradient(
			ellipse 50% 50%,
			@scroll_glaze_glow_center,
			@scroll_glaze_glow_edge),
		linear-gradient(to bottom,
			@scroll_glaze_top,
			@scroll_glaze_mida 49%,
			@scroll_glaze_midb 49%,
			@scroll_glaze_bot);
}

scrollbar.horizontal slider:hover {
	background:
		/* border color */
		linear-gradient(to right,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to left,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to top,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		linear-gradient(to bottom,
			@scroll_bg 1px,
			@scroll_slider_border 1px,
			@scroll_slider_border 2px,
			transparent 2px),
		/* bg color */
		radial-gradient(
			ellipse 50% 50%,
			@scroll_glaze_glow_center,
			@scroll_glaze_glow_edge),
		linear-gradient(to bottom,
			@scroll_hover_glaze_top,
			@scroll_hover_glaze_mida 49%,
			@scroll_hover_glaze_midb 49%,
			@scroll_hover_glaze_bot);
}

/* --- scroll bar position --- */

scrolledwindow {
	border: 1px solid @dialog_border;
}

scrolledwindow scrollbar.vertical {
	margin: -1px -1px -1px -3px;
	padding-left: 3px;
}

scrolledwindow scrollbar.horizontal {
	margin: -3px -1px -1px;
	padding: 3px 0 0 0;
}

scrolledwindow viewport {
	border: 1px solid @menu_border;
}

scrolledwindow viewport ~ scrollbar.vertical {
	margin: 0 0 -30px -3px;
	padding: 0 0 30px 3px;
	border-left: 0;
}

scrolledwindow viewport ~ scrollbar.horizontal {
	margin: -3px 0 0 0;
	padding: 3px 0 0 0;
	border-top: 0;
}

notebook scrolledwindow.frame {
	border: 1px solid @menu_border;
}

notebook scrollbar.vertical {
	margin: -1px -1px -30px -3px;
	padding: 0 0 29px 3px;
	border-left: 1px solid @menu_border;
	background: @nb_bg;
}

notebook scrollbar.horizontal {
	margin: -3px -1px -1px;
	padding: 3px 0 0 0;
	border-top: 1px solid @menu_border;
	background: @nb_bg;
}

dialog scrolledwindow.frame viewport.frame {
	border: 0; /* avoid dual border */
}

dialog scrolledwindow.frame scrollbar.vertical,
expander-widget scrollbar.vertical {
	margin: -1px -1px -1px -3px;
	padding: 0 0 0 3px;
	border-left: 1px solid @menu_border;
	background: @theme_bg;
}

dialog scrolledwindow.frame scrollbar.horizontal,
expander-widget scrollbar.horizontal {
	margin: -3px -1px -1px;
	padding: 3px 0 0 0;
	border-top: 1px solid @menu_border;
	background: @theme_bg;
}

/* dialog scrolledwindow.frame scrollbar.vertical:dir(rtl),
expander-widget scrollbar.vertical:dir(rtl) {
	margin: -1px -3px -1px -1px;
	padding: 0 3px 0 0;
	border-left: 0;
	border-right: 1px solid @menu_border;
	background: @theme_bg;
} */

dialog notebook scrolledwindow.frame scrollbar.vertical,
dialog notebook scrolledwindow.frame scrollbar.horizontal {
	background: @nb_bg;
}

treeview ~ scrollbar.horizontal {
	border-top: 1px solid @menu_border;
	margin: -3px 2px -1px -1px;
	background: @theme_bg;
}

treeview ~ scrollbar.horizontal ~ scrollbar.vertical {
	margin: -26px -1px -19px -3px;
	padding: 25px 0 21px 3px;
	border-left: 1px solid @menu_border;
	background: @theme_bg;
}

/* treeview ~ scrollbar.horizontal ~ scrollbar.vertical:dir(rtl) {
	margin: -26px -3px -19px -1px;
	padding: 25px 3px 21px 0;
	border-left: 0;
	border-right: 1px solid @menu_border;
	background: @theme_bg;
} */

notebook treeview ~ scrollbar.horizontal,
notebook treeview ~ scrollbar.horizontal ~ scrollbar.vertical {
	background: @nb_bg;
}

/* --- expander --- */

expander-widget title {
	padding: 2px 0 0;
}

expander-widget title:hover {
	background-color: @expander_hover;
}

expander-widget title label {
	margin: 1px 0 0 1px;
}

expander-widget expander {
	margin: -2px 0 0 -1px;
	-gtk-icon-source: -gtk-icontheme("pan-end-symbolic");
	-gtk-icon-size: 22px;
}

expander-widget expander:dir(rtl) {
	margin: 2px 4px 2px 1px;
	-gtk-icon-source: -gtk-icontheme("pan-end-symbolic-rtl");
}

expander-widget expander:checked {
	-gtk-icon-source: -gtk-icontheme("pan-down-symbolic");
}

/* --- notebook - left/right not inverted in rtl mode --- */

notebook {
	margin: 1px 0;
	background: @nb_bg;
}

notebook stack {
	border: 1px solid @nb_border;
}

notebook stack notebook {
	margin: -1px;
}

notebook stack notebook header {
	background: @nb_bg;
}

notebook header {
	padding: 1px;
	background: @theme_bg;
}

notebook header tabs {
	min-height: 23px;
}

notebook header tab {
	padding: 2px;
	border: 1px solid @nb_tab_border;
	transition: background 0.3s;
}

notebook header tab label {
	padding: 0 1px 1px;
	border: 1px solid transparent;
	border-radius: 1px;
}

notebook header tab button {
	padding: 0;
}

notebook header tabs arrow {
	min-width: 18px;
	min-height: 18px;
}

notebook header.top tab {
	margin: 0 -1px -2px -1px;
	border-bottom-color: @nb_border;
	border-radius: 2.4px 2.4px 0 0;
	background: linear-gradient(to bottom,
		@nb_tab_glaze_top,
		@nb_tab_glaze_mida 51%,
		@nb_tab_glaze_midb 51%,
		@nb_tab_glaze_bot);
}

notebook header.top tab:checked {
	margin: -1px -1px -2px -1px;
	border-color: @nb_border;
	border-bottom: 0;
	background: linear-gradient(to bottom,
		@nb_tab_checked_glaze_top,
		@nb_tab_checked_glaze_mida 51%,
		@nb_tab_checked_glaze_midb 51%,
		@nb_tab_checked_glaze_bot);
	box-shadow:
		inset -1px 0 alpha(@nb_border, 0.07),
		inset 1px 1px alpha(@nb_border, 0.07);
}

notebook header.bottom tab {
	margin: -2px -1px 0 -1px;
	border-top-color: @nb_border;
	border-radius: 0 0 2.4px 2.4px;
	background: linear-gradient(to top,
		@nb_tab_glaze_top,
		@nb_tab_glaze_mida 51%,
		@nb_tab_glaze_midb 51%,
		@nb_tab_glaze_bot);
}

notebook header.bottom tab:checked {
	margin: -2px -1px -1px -1px;
	border-color: @nb_border;
	border-top: 0;
	background: linear-gradient(to top,
		@nb_tab_checked_glaze_top,
		@nb_tab_checked_glaze_mida 51%,
		@nb_tab_checked_glaze_midb 51%,
		@nb_tab_checked_glaze_bot);
	box-shadow:
		inset -1px -1px alpha(@nb_border, 0.07),
		inset 1px 0 alpha(@nb_border, 0.07);
}

notebook header.left tab:dir(ltr) {
	margin: -1px -2px -1px 0;
	padding: 3px 1px;
	border-right-color: @nb_border;
	border-radius: 2.4px 0 0 2.4px;
	background: linear-gradient(to right,
		@nb_tab_glaze_top,
		@nb_tab_glaze_mida 50%,
		@nb_tab_glaze_midb 50%,
		@nb_tab_glaze_bot);
}

notebook header.left tab:dir(ltr):checked {
	margin: -1px -2px -1px -1px;
	padding: 3px 2px;
	border-color: @nb_border;
	border-right: 0;
	background: linear-gradient(to right,
		@nb_tab_checked_glaze_top,
		@nb_tab_checked_glaze_mida 50%,
		@nb_tab_checked_glaze_midb 50%,
		@nb_tab_checked_glaze_bot);
	box-shadow:
		inset 0 -1px alpha(@nb_border, 0.07),
		inset 1px 1px alpha(@nb_border, 0.07);
}

notebook header.left tab:dir(rtl) {
	margin: -1px 0 -1px -2px;
	padding: 3px 1px;
	border-left-color: @nb_border;
	border-radius: 0 2.4px 2.4px 0;
	background: linear-gradient(to left,
		@nb_tab_glaze_top,
		@nb_tab_glaze_mida 50%,
		@nb_tab_glaze_midb 50%,
		@nb_tab_glaze_bot);
}

notebook header.left tab:dir(rtl):checked {
	margin: -1px -1px -1px -2px;
	padding: 3px 2px;
	border-color: @nb_border;
	border-left: 0;
	background: linear-gradient(to left,
		@nb_tab_checked_glaze_top,
		@nb_tab_checked_glaze_mida 50%,
		@nb_tab_checked_glaze_midb 50%,
		@nb_tab_checked_glaze_bot);
	box-shadow:
		inset 0 -1px alpha(@nb_border, 0.07),
		inset -1px 1px alpha(@nb_border, 0.07);
}

notebook header.right tab:dir(ltr) {
	margin: -1px 0 -1px -2px;
	padding: 3px 1px;
	border-left-color: @nb_border;
	border-radius: 0 2.4px 2.4px 0;
	background: linear-gradient(to left,
		@nb_tab_glaze_top,
		@nb_tab_glaze_mida 50%,
		@nb_tab_glaze_midb 50%,
		@nb_tab_glaze_bot);
}

notebook header.right tab:dir(ltr):checked {
	margin: -1px -1px -1px -2px;
	padding: 3px 2px;
	border-color: @nb_border;
	border-left: 0;
	background: linear-gradient(to left,
		@nb_tab_checked_glaze_top,
		@nb_tab_checked_glaze_mida 50%,
		@nb_tab_checked_glaze_midb 50%,
		@nb_tab_checked_glaze_bot);
	box-shadow:
		inset -1px -1px alpha(@nb_border, 0.07),
		inset 0 1px alpha(@nb_border, 0.07);
}

notebook header.right tab:dir(rtl) {
	margin: -1px -2px -1px 0;
	padding: 3px 1px;
	border-right-color: @nb_border;
	border-radius: 2.4px 0 0 2.4px;
	background: linear-gradient(to right,
		@nb_tab_glaze_top,
		@nb_tab_glaze_mida 50%,
		@nb_tab_glaze_midb 50%,
		@nb_tab_glaze_bot);
}

notebook header.right tab:dir(rtl):checked {
	margin: -1px -2px -1px -1px;
	padding: 3px 2px;
	border-color: @nb_border;
	border-right: 0;
	background: linear-gradient(to right,
		@nb_tab_checked_glaze_top,
		@nb_tab_checked_glaze_mida 50%,
		@nb_tab_checked_glaze_midb 50%,
		@nb_tab_checked_glaze_bot);
	box-shadow:
		inset 1px -1px alpha(@nb_border, 0.07),
		inset 0 1px alpha(@nb_border, 0.07);
}

notebook header.top tab button:dir(ltr),
notebook header.bottom tab button:dir(ltr) {
	margin-left: -1px;
	margin-right: 1px;
}

notebook header.top tab button:dir(rtl),
notebook header.bottom tab button:dir(rtl) {
	margin-left: 1px;
	margin-right: -1px;
}

notebook header.top tab:checked button,
notebook header.bottom tab:checked button {
	margin-top: 2px;
	margin-bottom: 2px;
}

notebook header.left tab button:dir(ltr),
notebook header.right tab button:dir(ltr) {
	margin-left: -2px;
	margin-right: 2px;
}

notebook header.left tab button:dir(rtl),
notebook header.right tab button:dir(rtl) {
	margin-left: 2px;
	margin-right: -2px;
}

notebook:focus header tab:checked label {
	border-color: @theme_outline;
	background: @nb_tab_focus_bg;
}

/* --- notebook stack - left/right not inverted in rtl mode - with gtk4-classic (notebook__stack_class.patch) --- */

notebook stack.top {
	border-radius: 0 0 2.4px 2.4px;
	box-shadow:
		inset -1px -1px alpha(@nb_border, 0.125),
		inset 1px 0 alpha(@entry_bg, 0.42);
}

notebook stack.bottom {
	border-radius: 2.4px 2.4px 0 0;
	box-shadow:
		inset -1px 0 alpha(@nb_border, 0.125),
		inset 1px 1px alpha(@entry_bg, 0.42);
}

notebook stack.left:dir(ltr),
notebook stack.right:dir(rtl) {
	border-radius: 0 2.4px 2.4px 0;
	box-shadow:
		inset -1px -1px alpha(@nb_border, 0.125),
		inset 0 1px alpha(@entry_bg, 0.42);
}

notebook stack.right:dir(ltr),
notebook stack.left:dir(rtl) {
	border-radius: 2.4px 0 0 2.4px;
	box-shadow:
		inset 0 -1px alpha(@nb_border, 0.125),
		inset 1px 1px alpha(@entry_bg, 0.42);
}

/* --- notebook arrow --- */

notebook header.top tabs arrow.down {
	margin: 1px 2px 0 0;
}

notebook header.top tabs arrow.up {
	margin: 1px 0 0 2px;
}

notebook header.bottom tabs arrow.down {
	margin: 0 2px 1px 0;
}

notebook header.bottom tabs arrow.up {
	margin: 0 0 1px 2px;
}

notebook header.left tabs arrow.down:dir(ltr) {
	margin: 0 0 2px 1px;
}

notebook header.left tabs arrow.down:dir(rtl) {
	margin: 0 1px 2px 0;
}

notebook header.left tabs arrow.up:dir(ltr) {
	margin: 2px 0 0 1px;
}

notebook header.left tabs arrow.up:dir(rtl) {
	margin: 2px 1px 0 0;
}

notebook header.right tabs arrow.down:dir(ltr) {
	margin: 0 1px 2px 0;
}

notebook header.right tabs arrow.down:dir(rtl) {
	margin: 0 0 2px 1px;
}

notebook header.right tabs arrow.up:dir(ltr) {
	margin: 2px 1px 0 0;
}

notebook header.right tabs arrow.up:dir(rtl) {
	margin: 2px 0 0 1px;
}

/* --- progress bar - minimal size --- */
/* @see https://github.com/GNOME/gtk/blob/013b629a2e5420cc01647f859226eb1a37ebe661/gtk/gtkprogressbar.c#L92 */

progressbar.vertical,
progressbar.vertical trough {
	min-width: 7px;
	min-height: 80px;
}

progressbar.vertical progress {
	min-width: 7px;
}

progressbar.horizontal,
progressbar.horizontal trough {
	min-width: 150px;
	min-height: 6px;
}

progressbar.horizontal progress {
	min-height: 6px;
}

/* --- progress bar - @todo .pulse --- */

progressbar:disabled {
	opacity: 0.6;
}

progressbar:disabled text {
	text-shadow: none;
}

progressbar trough {
	border-radius: 2.75px;
	background: @slider_trough_bg;
	box-shadow:
		inset -1px -1px @slider_trough_border,
		inset  3px 3px alpha(shade(@theme_bg, 0.82), 0.26),
		inset  2px 2px alpha(shade(@theme_bg, 0.82), 0.26),
		inset  1px 1px @slider_trough_border;
}

progressbar trough progress {
	border-radius: 2.75px;
	box-shadow:
		inset -1px -1px @slider_border,
		inset  1px  1px @slider_border;
}

progressbar trough.empty progress {
	box-shadow: none; /* lol */
}

progressbar.vertical trough,
progressbar.vertical trough progress {
	min-width: 23px;
}

progressbar.vertical text + trough,
progressbar.vertical text + trough progress {
	min-width: 40px;
}

progressbar.horizontal trough,
progressbar.horizontal trough progress {
	min-height: 23px;
}

progressbar.vertical trough progress {
	background:
		radial-gradient(
			ellipse 50% 90%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to right,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(135deg,
			@slider_pattern_shade,
			@slider_pattern_shade 15px,
			@slider_pattern 15px,
			@slider_pattern 30px);
}

progressbar.vertical trough progress.bottom {
	background:
		radial-gradient(
			ellipse 50% 90%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to right,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(45deg,
			@slider_pattern_shade,
			@slider_pattern_shade 15px,
			@slider_pattern 15px,
			@slider_pattern 30px);
}

treeview.view.progressbar,
progressbar.horizontal trough progress {
	background:
		radial-gradient(
			ellipse 90% 50%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to bottom,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(135deg,
			@slider_pattern_shade,
			@slider_pattern_shade 15px,
			@slider_pattern 15px,
			@slider_pattern 30px);
}

progressbar.horizontal trough progress.right {
	background:
		radial-gradient(
			ellipse 90% 50%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to bottom,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(225deg,
			@slider_pattern_shade,
			@slider_pattern_shade 15px,
			@slider_pattern 15px,
			@slider_pattern 30px);
}

progressbar.vertical text {
	margin: 0 -1px; /* to avoid extra width at 100% */
}

progressbar.horizontal text {
	margin: 0 0 -23px;
}

/* --- progress bar - in status bar --- */

statusbar progressbar.horizontal {
	margin: 2px 0 -2px;
	font-size: 85%;
}

statusbar progressbar.horizontal text {
	margin: 0 0 -18px;
	line-height: 10px;
}

statusbar progressbar.horizontal trough,
statusbar progressbar.horizontal trough progress {
	min-height: 14px;
}

.maximized statusbar progressbar.horizontal {
	margin-top: 0;
}

/* --- progress bar - with gtk4-classic (appearance__progress_text.patch) when GTK_PROGRESS_TEXT_INSIDE=1 --- */

progressbar.classic.vertical text,
progressbar.classic.vertical trough,
progressbar.classic.vertical trough progress {
	margin: 0;
	padding: 0;
	min-width: 40px; /* to avoid small width at <10% */
	min-height: 0;
}

progressbar.classic.horizontal text,
progressbar.classic.horizontal trough,
progressbar.classic.horizontal trough progress {
	margin: 0;
	padding: 0;
	min-width: 0;
	min-height: 0;
}

progressbar.classic.vertical.full text {
	margin: 0 -1px; /* to avoid extra width at 100% */
}

progressbar.classic.horizontal text {
	padding: 3px 0;
}

statusbar progressbar.classic.horizontal text {
	margin: 0 0 -2px;
}

progressbar.classic text {
	color: transparent;
}

progressbar.classic text.trough {
	color: @theme_text;
}

progressbar.classic text.progress {
	color: @theme_selected_fg;
}

/* --- scale --- */

scale:disabled {
	opacity: 0.6;
}

scale.vertical {
	padding: 2px 6px;
	min-width: 7px;
	border: 1px solid transparent;
}

scale.horizontal {
	padding: 6px 2px;
	min-height: 7px;
	border: 1px solid transparent;
}

scale trough {
	outline-offset: 5px;
	border-radius: 2.75px;
	background: @scale_trough_bg;
	box-shadow:
		-1px -1px alpha(@slider_trough_bg, 0.35),
		 1px  1px alpha(lighter(@theme_bg), 0.418),
		inset -1px -1px @slider_trough_border,
		inset  1px 1px @slider_trough_border;
}

scale:focus trough {
	outline: 1px solid @theme_outline;
}

scale trough highlight {
	border-radius: 2.75px;
	box-shadow:
		inset -1px -1px @slider_border,
		inset  1px  1px @slider_border;
}

scale.vertical trough highlight {
	min-width: 5px;
	background:
		radial-gradient(
			ellipse 50% 90%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to right,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(135deg,
			@slider_pattern_shade,
			@slider_pattern_shade 12px,
			@slider_pattern 12px,
			@slider_pattern 24px);
}

scale.horizontal trough highlight {
	min-height: 5px;
	background:
		radial-gradient(
			ellipse 90% 50%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to bottom,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(135deg,
			@slider_pattern_shade,
			@slider_pattern_shade 12px,
			@slider_pattern 12px,
			@slider_pattern 24px);
}

scale.vertical trough slider {
	margin: 1px -6px;
	min-width: 11px;
	min-height: 18px;
	border: 1px solid @slider_trough_border;
	border-radius: 2.75px;
	background:
		radial-gradient(circle,
			@scale_glaze_glow_center,
			@scale_glaze_glow_edge),
		linear-gradient(to right,
			@scale_glaze_top,
			@scale_glaze_mida 49%,
			@scale_glaze_midb 49%,
			@scale_glaze_bot);
}

scale.horizontal trough slider {
	margin: -6px 1px;
	min-width: 18px;
	min-height: 11px;
	border: 1px solid @slider_trough_border;
	border-radius: 2.75px;
	background:
		radial-gradient(circle,
			@scale_glaze_glow_center,
			@scale_glaze_glow_edge),
		linear-gradient(to bottom,
			@scale_glaze_top,
			@scale_glaze_mida 49%,
			@scale_glaze_midb 49%,
			@scale_glaze_bot);
}

scale.vertical trough slider:hover {
	background:
		radial-gradient(circle,
			@scale_glaze_glow_center,
			@scale_glaze_glow_edge),
		linear-gradient(to right,
			@scale_hover_glaze_top,
			@scale_hover_glaze_mida 49%,
			@scale_hover_glaze_midb 49%,
			@scale_hover_glaze_bot);
}

scale.horizontal trough slider:hover {
	background:
		radial-gradient(circle,
			@scale_glaze_glow_center,
			@scale_glaze_glow_edge),
		linear-gradient(to bottom,
			@scale_hover_glaze_top,
			@scale_hover_glaze_mida 49%,
			@scale_hover_glaze_midb 49%,
			@scale_hover_glaze_bot);
}

scale.vertical value {

}

scale.horizontal value {
	margin: 0 0 2px;
}

/* --- scale mark --- */

scale.vertical.marks-before {
	padding: 2px 7px 2px 10px;
}

scale.vertical.marks-after {
	padding: 2px 10px 2px 7px;
}

scale.vertical.marks-before indicator,
scale.vertical.marks-after indicator {
	min-width: 5px;
	border-top: 1px solid @content_separator_dark;
	border-bottom: 1px solid @content_separator_lite;
}

scale.horizontal.marks-before indicator,
scale.horizontal.marks-after indicator {
	min-height: 6px;
	border-left: 1px solid @content_separator_dark;
	border-right: 1px solid @content_separator_lite;
}

scale.vertical.marks-before marks.top indicator {
	margin: 1px 8px 0 -8px;
}

scale.vertical.marks-before marks.top label {
	margin: 0 10px 0 -10px;
}

scale.vertical.marks-after marks.bottom indicator {
	margin: 1px -8px 0 8px;
}

scale.vertical.marks-after marks.bottom label {
	margin: 0 -10px 0 10px;
}

scale.horizontal.marks-before marks.top indicator {
	margin: 1px 0 1px 1px;
}

scale.horizontal.marks-before marks.top label {
	margin: -1px 0 1px 2px;
}

scale.horizontal.marks-after marks.bottom indicator {
	margin: 1px 0 1px 1px;
}

scale.horizontal.marks-after marks.bottom label {
	margin: 1px 0 -1px 2px;
}

/* --- level bar --- */

levelbar:disabled {
	opacity: 0.6;
}

levelbar trough {
	min-height: 10px; /* bug? */
	border-radius: 2.75px;
	background:
		linear-gradient(to right,
			alpha(@slider_trough_shadow_edge, 0.3),
			alpha(@slider_trough_shadow, 0.3) 3px,
			alpha(@slider_trough_shadow, 0) 5px),
		linear-gradient(to bottom,
			alpha(@slider_trough_shadow_edge, 0.3),
			alpha(@slider_trough_shadow, 0.3) 3px,
			alpha(@slider_trough_shadow, 0) 5px)
		@slider_trough_bg;
	box-shadow:
		inset -1px -1px @slider_trough_border,
		inset  1px 1px @slider_trough_border;
}

levelbar.vertical trough {
	min-width: 10px;
	min-height: 0;
}

levelbar.horizontal trough {
	min-height: 10px;
}

levelbar block.filled {
	border-radius: 2.75px;
	box-shadow:
		inset -1px -1px @slider_border,
		inset  1px  1px @slider_border;
}

levelbar.vertical block.filled {
	background:
		radial-gradient(
			ellipse 90% 50%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to right,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(135deg,
			@slider_pattern_shade,
			@slider_pattern_shade 12px,
			@slider_pattern 12px,
			@slider_pattern 24px);
}

levelbar.horizontal block.filled {
	background:
		radial-gradient(
			ellipse 90% 50%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to bottom,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(135deg,
			@slider_pattern_shade,
			@slider_pattern_shade 12px,
			@slider_pattern 12px,
			@slider_pattern 24px);
}

levelbar.vertical.continuous block.filled:last-child {
	background:
		radial-gradient(
			ellipse 90% 50%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to right,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(45deg,
			@slider_pattern_shade,
			@slider_pattern_shade 12px,
			@slider_pattern 12px,
			@slider_pattern 24px);
}

levelbar.horizontal.continuous block.filled:last-child {
	background:
		radial-gradient(
			ellipse 90% 50%,
			@slider_glaze_glow_center,
			@slider_glaze_glow_edge),
		linear-gradient(to bottom,
			@slider_glaze_top,
			@slider_glaze_mida 49%,
			@slider_glaze_midb 49%,
			@slider_glaze_bot),
		repeating-linear-gradient(225deg,
			@slider_pattern_shade,
			@slider_pattern_shade 12px,
			@slider_pattern 12px,
			@slider_pattern 24px);
}

levelbar.vertical.discrete block {
	margin: 1px 0;
}

levelbar.vertical.discrete block:first-child {
	margin: 0 0 1px 0;
}

levelbar.vertical.discrete block:last-child {
	margin: 1px 0 0 0;
}

levelbar.horizontal.discrete block {
	margin: 0 1px;
}

levelbar.horizontal.discrete block:first-child {
	margin: 0 1px 0 0;
}

levelbar.horizontal.discrete block:last-child {
	margin: 0 0 0 1px;
}

/* --- info bar --- */

infobar revealer {
	padding: 4px 7px;
	min-height: 23px;
}

infobar.info {
	color: @infobar_fg;
	border: 1px solid @infobar_border;
	background: linear-gradient(to bottom, @infobar_bg_top, @infobar_bg_bot);
}

infobar.question {
	color: @questionbar_fg;
	border: 1px solid @questionbar_border;
	background: linear-gradient(to bottom, @questionbar_bg_top, @questionbar_bg_bot);
}

infobar.warning {
	color: @warningbar_fg;
	border: 1px solid @warningbar_border;
	background: linear-gradient(to bottom, @warningbar_bg_top, @warningbar_bg_bot);
}

infobar.error {
	color: @errorbar_fg;
	border: 1px solid @errorbar_border;
	background: linear-gradient(to bottom, @errorbar_bg_top, @errorbar_bg_bot);
}

/* --- grid --- */

grid label.property-name-label,
grid label.key-name,
grid label.key-summary {
	color: @theme_text;
}

grid row:selected label.property-name-label,
grid row:selected label.key-name,
grid row:selected label.key-summary {
	color: @theme_selected_fg;
}

/* --- treeview --- */

list {
	padding: 3px 0;
}

treeview, listview, list {
	color: @theme_text;
	background-color: @theme_base;
}

treeview.view:disabled {
	color: @insensitive_fg;
}

/* --- treeview alternating colours - with gtk4-classic (treeview__alternating_row_colours.patch) --- */
/* @see https://github.com/lah7/gtk3-classic/issues/120 - anyway it's not only gtk-classic */

treeview.view.odd:not(.trough):not(.progressbar) {
	background-color: @theme_base;
	/* lol */
	background: linear-gradient(to bottom, @theme_base, @theme_base);
	border-right: 1px solid transparent;
	border-image-source: repeating-linear-gradient(to bottom, @theme_base 0, @theme_base 3px, #9f9f9f 3px, #9f9f9f 4px);
	border-image-slice: 1;
	border-image-repeat: repeat;
}

treeview.view.even:not(.trough):not(.progressbar) {
	background-color: #EEE; /* @todo */
	/* lol */
	background: linear-gradient(to bottom, #EEE, #EEE);
	border-right: 1px solid transparent;
	border-image-source: repeating-linear-gradient(to bottom, #EEE 0, #EEE 3px, #9f9f9f 3px, #9f9f9f 4px);
	border-image-slice: 1;
	border-image-repeat: repeat;
}

treeview.view.odd.sorted:not(.trough):not(.progressbar) {
	background-color: #EEE; /* @todo */
	/* lol */
	background: linear-gradient(to bottom, #EEE, #EEE);
	border-image-source: repeating-linear-gradient(to bottom, #EEE 0, #EEE 3px, #9f9f9f 3px, #9f9f9f 4px);
}

treeview.view.even.sorted:not(.trough):not(.progressbar) {
	background-color: #DDD; /* @todo */
	/* lol */
	background: linear-gradient(to bottom, #DDD, #DDD);
	border-image-source: repeating-linear-gradient(to bottom, #DDD 0, #DDD 3px, #9f9f9f 3px, #9f9f9f 4px);
}

treeview.view.odd.last:not(.trough):not(.progressbar),
treeview.view.odd.sorted.last:not(.trough):not(.progressbar),
treeview.view.even.last:not(.trough):not(.progressbar),
treeview.view.even.sorted.last:not(.trough):not(.progressbar) {
	border-right: 0;
}

/* treeview.view.odd:not(.last):not(.trough):not(.progressbar),
treeview.view.even:not(.last):not(.trough):not(.progressbar) {
	* multiple background doesn't work -> border-image *
	background-image: url("img/treeview-separator.svg");
	background-repeat: repeat-y;
	background-position: right bottom;
} */

treeview.view:not(.trough):not(.progressbar):selected, /* without gtk4-classic */
treeview.view.odd:not(.trough):not(.progressbar):selected,
treeview.view.odd.sorted:not(.trough):not(.progressbar):selected,
treeview.view.even:not(.trough):not(.progressbar):selected,
treeview.view.even.sorted:not(.trough):not(.progressbar):selected {
	color: @theme_selected_fg;
	border-image-source: repeating-linear-gradient(to bottom,
		@theme_selected_bg 0,
		@theme_selected_bg 3px,
		#9f9f9f 3px,
		#9f9f9f 4px);
	background:
		radial-gradient(ellipse 110% 50%,
			@menuitem_hover_glaze_glow_center,
			@menuitem_hover_glaze_glow_edge),
		linear-gradient(to bottom,
			@menuitem_hover_glaze_top,
			@menuitem_hover_glaze_mida 50%,
			@menuitem_hover_glaze_midb 50%,
			@menuitem_hover_glaze_bot);
}

/* treeview.view:not(.trough):not(.progressbar):selected:not(:focus),
treeview.view.odd:not(.trough):not(.progressbar):selected:not(:focus),
treeview.view.odd.sorted:not(.trough):not(.progressbar):selected:not(:focus),
treeview.view.even:not(.trough):not(.progressbar):selected:not(:focus),
treeview.view.even.sorted:not(.trough):not(.progressbar):selected:not(:focus) {
	see gtk.css
} */

treeview.view.odd:not(.trough):not(.progressbar):selected:disabled,
treeview.view.odd.sorted:not(.trough):not(.progressbar):selected:disabled,
treeview.view.even:not(.trough):not(.progressbar):selected:disabled,
treeview.view.even.sorted:not(.trough):not(.progressbar):selected:disabled {
	color: @insensitive_fg;
}

/* --- treeview progressbars --- */

treeview.view.trough,
treeview.view.trough.odd,
treeview.view.trough.even,
treeview.view.trough.sorted,
treeview.view.trough.sorted.odd,
treeview.view.trough.sorted.even {
	padding: 0;
	color: @theme_text; /* = progressbar.classic text.trough */
	border-top: 1px solid @theme_base;
	border-bottom: 1px solid @theme_base;
	background: @theme_bg;
	box-shadow:
		inset -1px -1px @slider_border_treeview,
		inset  1px  1px @slider_border_treeview;
}

treeview.view.trough.even {
	border-top: 1px solid #EEE; /* @todo */
	border-bottom: 1px solid #EEE; /* @todo */
}

treeview.view.trough:selected,
treeview.view.trough.odd:selected,
treeview.view.trough.even:selected {
	color: @theme_text; /* = progressbar.classic text.trough */
	border-top: 1px solid @theme_selected_bg;
	border-bottom: 1px solid @theme_selected_bg;
}

treeview.view.trough:disabled,
treeview.view.trough.odd:disabled,
treeview.view.trough.even:disabled {
	color: @insensitive_fg; /* = progressbar.classic:disabled text.trough */
	background: @theme_bg;
}

treeview.view.progressbar {
	color: @theme_selected_fg; /* = progressbar.classic text.progress */
	border-top: 1px solid transparent;
	border-bottom: 1px solid transparent;
	text-shadow: none;
	box-shadow:
		inset -1px -1px @slider_border,
		inset  1px  1px @slider_border;
}

treeview.view.progressbar:selected {
	border-top-color: @theme_selected_bg;
	border-bottom-color: @theme_selected_bg;
}

treeview.view.progressbar:disabled {
	color: @insensitive_selected; /* = progressbar.classic:disabled text.progress */
}

/* --- treeview headers --- */

treeview header button,
treeview header button:hover,
treeview header button:focus,
columnview header button,
columnview header button:hover,
columnview header button:focus {
	margin: 0;
	padding: 0;
	border: 0;
	border-bottom: 1px solid @toolbar_border_bot;
	border-radius: 0;
	box-shadow: none;
}

treeview header button > box,
columnview header button > box {
	margin: 4px 0 3px;
	padding: 0 2px 0 3px;
	border-left: 1px solid @toolbar_separator_lite;
	border-right: 1px solid @toolbar_separator_dark;
}

treeview header button:first-child > box,
columnview header button:first-child > box {
	border-left: 0;
}

treeview header button:last-child > box,
columnview header button:last-child > box {
	border-right: 0;
}

/* --- treeview elements --- */

check:not(:selected),
radio:not(:selected),
check:selected,
radio:selected {
	/* lol */
	background-color: transparent;
}

listview row:nth-child(2n+1) {
	background-color: @theme_base;
}

listview row:nth-child(2n) {
	background-color: #EEE; /* @todo */
}

list row:selected,
listview row:nth-child(2n+1):selected,
listview row:nth-child(2n):selected {
	color: @theme_selected_fg;
	background:
		radial-gradient(ellipse 110% 50%,
			@menuitem_hover_glaze_glow_center,
			@menuitem_hover_glaze_glow_edge),
		linear-gradient(to bottom,
			@menuitem_hover_glaze_top,
			@menuitem_hover_glaze_mida 50%,
			@menuitem_hover_glaze_midb 50%,
			@menuitem_hover_glaze_bot);
}

/* listview row:nth-child(2n+1):selected:not(:focus),
listview row:nth-child(2n):selected:not(:focus) {
	see gtk.css
} */

list row {
	margin: 1px 0;
	padding: 3px 5px;
}

listview row cell {
	/* background doesn't work -> border-image
	background-image: url("img/treeview-separator.svg");
	background-repeat: repeat-y;
	background-position: right bottom; */
	padding: 3px 2px;
}

list row label,
listview row cell label {
	padding: 0 4px;
}

list row image + label {
	padding: 0 4px 0 8px;
}

listview row:nth-child(2n+1) cell:not(:last-child) {
	/* lol - odd */
	border-right: 1px solid transparent;
	border-image-source: repeating-linear-gradient(to bottom, @theme_base 0, @theme_base 3px, #9f9f9f 3px, #9f9f9f 4px);
	border-image-slice: 1;
	border-image-repeat: repeat;
}

listview row:nth-child(2n) cell:not(:last-child) {
	/* lol - even */
	border-right: 1px solid transparent;
	border-image-source: repeating-linear-gradient(to bottom, #EEE 0, #EEE 3px, #9f9f9f 3px, #9f9f9f 4px);
	border-image-slice: 1;
	border-image-repeat: repeat;
}

listview row:selected cell:not(:last-child) {
	/* lol */
	border-image-source: repeating-linear-gradient(to bottom,
		@theme_selected_bg 0,
		@theme_selected_bg 3px,
		#9f9f9f 3px,
		#9f9f9f 4px);
}

listview row:selected:not(:focus):not(:last-child) cell {
	/* lol */
	border-image-source: repeating-linear-gradient(to bottom,
		shade(@theme_selected_bg, 1.2) 0,
		shade(@theme_selected_bg, 1.2) 3px,
		#9f9f9f 3px,
		#9f9f9f 4px);
}

treeview.view:not(.trough):not(.progressbar) {
	min-height: 21px;
}

treeview.view.image:disabled {
	-gtk-icon-filter: opacity(0.5);
}

/* --- open/save/print dialog --- */

.background.dialog.filechooser .dialog-action-area {
	margin: -6px;
}

.background.dialog.filechooser .dialog-action-area {
	padding-top: 14px;
}

.background.dialog.filechooser.csd .dialog-vbox,
.background.dialog.filechooser.solid-csd .dialog-vbox,
.background.dialog.filechooser.ssd .dialog-vbox {
	padding: 12px 12px 13px;
}

.background.dialog.print.csd .dialog-vbox,
.background.dialog.print.solid-csd .dialog-vbox,
.background.dialog.print.ssd .dialog-vbox {
	padding: 12px 12px 12px;
}

.background.dialog.print grid + scrolledwindow,
.background.dialog.print grid + scrolledwindow viewport,
.background.dialog.print grid + scrolledwindow + scrolledwindow,
.background.dialog.print grid + scrolledwindow + scrolledwindow viewport,
.background.dialog.filechooser scrolledwindow viewport,
.background.dialog.filechooser pathbar scrolledwindow {
	border: 0; /* avoid dual border */
}

.background.dialog.filechooser pathbar button.toggle box {
	margin-bottom: -1px;
}

.background.dialog.filechooser pathbar button.toggle image + label:dir(ltr) {
	padding-left: 4px;
}

.background.dialog.filechooser pathbar button.toggle image + label:dir(rtl) {
	padding-right: 4px;
}

.background.dialog.filechooser placessidebar separator {
	margin: 4px 0;
}

.background.dialog.filechooser placessidebar + separator {
	padding: 0 1px;
}

.background.dialog.filechooser box.view {
	background: @theme_bg;
}

.background.dialog.filechooser box.search-bar {
	padding: 10px;
}

.background.dialog.filechooser #pathbarbox scrolledwindow {
	background-color: transparent;
}

.background.dialog.print columnview button {
	margin-bottom: -1px;
}

.background.dialog.print columnview button label {
	margin-top: -1px;
}

.background.dialog.print tab label {
	margin-bottom: -1px; /* @todo */
}

/* --- calendar --- */

calendar {
	padding: 0;
	color: @menuitem_hover;
	border: 1px solid @frame_border;
	background: @theme_selected_bg;
}

calendar grid {
	margin: 4px;
	color: @theme_selected_fg;
	background: @theme_selected_bg;
}

calendar header {
	padding: 3px 0;
	color: @theme_text;
	border-bottom: 1px solid @frame_border;
	background: @theme_bg;
	box-shadow:
		inset -1px -1px alpha(@nb_border, 0.125),
		inset 1px 1px alpha(@entry_bg, 0.27);
}

calendar header button.image-button,
calendar header button.image-button:hover,
calendar header button.image-button:active {
	padding: 0;
	border: 0;
	background: transparent;
	box-shadow: none;
}

calendar .day-number {
	padding: 2px 0;
	color: @theme_text;
	border-left: 2px solid @theme_base;
	border-left: 2px solid @theme_base;
	background: @theme_base;
}

calendar .day-number:selected {
	color: @menuitem_hover;
	background: @theme_selected_bg;
}

calendar .today {
	font-weight: bold;
}

calendar .other-month {
	color: alpha(@theme_fg, 0.2);
}

/* --- overrrides --- */
/* GTK 4.12..4.19 + Pango 1.51+ (Pango 1.51 is similar to Pango 1.42, so we have almost same rendering with GTK 2.24 - 3.24 - 4.12..4.19) */

* {
	line-height: 17px;
}

textview {
	line-height: 17px;
}

menubar item {
	padding-top: 2px;
	padding-bottom: 2px;
}

entry {
	padding-bottom: 3px;
}

button.text-button {
	padding-bottom: 3px;
}

button.text-button.toggle:checked,
button.text-button.toggle:active {
	padding-bottom: 2px;
}

combobox entry {
	padding-top: 4px;
	padding-bottom: 4px;
}

combobox button {
	padding-bottom: 4px;
}

combobox button cellview + arrow {
	padding-top: 1px;
}

spinbutton.horizontal text {
	padding-bottom: 3px;
}

button.font label {
	margin-bottom: -1px;
}

checkbutton label {
	margin-bottom: 0;
}

statusbar box label {
	padding-bottom: 0;
}

notebook header.left label,
notebook header.right label {
	margin-bottom: -1px;
}

expander-widget title {
	padding: 0;
	margin-bottom: 1px;
}

expander-widget title expander {
	margin: 2px 3px 2px 1px;
	-gtk-icon-size: 16px;
}

treeview header button > box,
columnview header button > box {
	margin-bottom: 2px;
}
